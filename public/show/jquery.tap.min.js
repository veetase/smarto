!function(n,t){var e=600,i=0,c=0;n.fn.tap=function(t,o,r){return"function"==typeof t&&(r=o,o=t,t=15),"ontouchstart"in window?this.each(function(){var r=0,a=null,u=++i,l=null,h=!1,s=this,p=n(this),g=null;p.click(function(){null!=g&&Date.now()<g||o.apply(s,arguments)}),p.bind("touchstart",function(n){0==c&&(c=u,h=!0,r=0,n.originalEvent.touches&&n.originalEvent.touches[0]&&(a=n.originalEvent.touches[0],l={x:a.screenX,y:a.screenY,px:a.pageX,py:a.pageY,cx:a.clientX,cy:a.clientY}))}),p.bind("touchend",function(n){c==u&&(c=0),h&&(h=!1,t>r?(g=Date.now()+e,n.pageX=l.px,n.pageY=l.py,n.clientX=l.cx,n.clientY=l.cy,n.screenX=l.x,n.scrrenY=l.y,o.apply(s,arguments)):p.trigger("tap-failed"))}),p.bind("touchmove",function(n){if(h){if(0==n.originalEvent.touches.length||null===l)return h=!1;a=n.originalEvent.touches[0],r=Math.sqrt(Math.pow(a.screenX-l.x,2)+Math.pow(a.screenY-l.y,2)),r>t&&(p.trigger("exceed-tap-threshold"),h=!1)}}),p.bind("touchcancel",function(){c==u&&(c=0),h=!1,p.trigger("tap-failed")})}):r||this.click(o),this}}(window.jQuery||window.$);
